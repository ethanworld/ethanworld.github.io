(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{432:function(t,n,e){"use strict";e.r(n);var s=e(62),a=Object(s.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"cpython"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpython"}},[t._v("#")]),t._v(" cpython")]),t._v(" "),e("p",[t._v("cpython是python众多解释器中的一种，采用C语言编写。")]),t._v(" "),e("p",[e("strong",[t._v("Python 解释器")]),t._v("（"),e("em",[t._v("Python Interpreter")]),t._v("）由 "),e("strong",[t._v("Python 编译器")]),t._v("（"),e("em",[t._v("Python Compiler")]),t._v("）和 "),e("strong",[t._v("Python 虚拟机")]),t._v("（"),e("em",[t._v("Python Virutal Machine")]),t._v("）两部分组成。当我们通过 Python 命令执行 Python 代码时，Python 编译器会将 Python 代码编译为 "),e("strong",[t._v("Python 字节码")]),t._v("（"),e("em",[e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//www.quora.com/What-is-the-difference-between-byte-code-and-machine-code-and-what-are-its-advantages",target:"_blank",rel:"noopener noreferrer"}},[t._v("bytecode"),e("OutboundLink")],1)]),t._v("）；随后 Python 虚拟机会读取并逐步执行这些字节码。")]),t._v(" "),e("p",[t._v("cpython源码链接：https://github.com/python/cpython")]),t._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("p",[t._v("cpython源码目录结构")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cpython/\n│\n├── Doc      ← 源代码文档说明\n├── Grammar  ← 计算机可读的语言定义\n├── Include  ← C 语言头文件（头文件中一般放一些重复使用的代码）\n├── Lib      ← Python 写的标准库文件\n├── Mac      ← Mac 支持的文件\n├── Misc     ← 杂项\n├── Modules  ← C 写的标准库文件\n├── Objects  ← 核心类型和对象模块\n├── Parser   ← Python 解析器源码\n├── PC       ← Windows 编译支持的文件\n├── PCbuild  ← 老版本的 Windows 系统 编译支持的文件\n├── Programs ← Python 可执行文件和其他二进制文件的源代码\n├── Python   ← CPython  解析器源码\n└── Tools    ← 用于构建或扩展 Python 的独立工具\n")])])]),e("p",[t._v("可变变量"),e("code",[t._v("PyVarObject")])]),t._v(" "),e("div",{staticClass:"language-c extra-class"},[e("pre",{pre:!0,attrs:{class:"language-c"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    PyObject ob_base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    Py_ssize_t ob_size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Number of items in variable part */")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" PyVarObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_object")]),t._v(" PyObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_object")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    _PyObject_HEAD_EXTRA\n    Py_ssize_t ob_refcnt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    PyTypeObject "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ob_type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typedef")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_typeobject")]),t._v(" PyTypeObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_typeobject")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    PyObject_VAR_HEAD\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("tp_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/* For printing, in format "<module>.<name>" */')]),t._v("\n    Py_ssize_t tp_basicsize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tp_itemsize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* For allocation */")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Methods to implement standard operations */")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token macro property"}},[e("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),e("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("define")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token macro-name"}},[t._v("PyObject_VAR_HEAD")]),t._v("      "),e("span",{pre:!0,attrs:{class:"token expression"}},[t._v("PyVarObject ob_base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),t._v("\n")])])]),e("ul",[e("li",[e("a",{attrs:{href:"https://www.linuxzen.com/python-behind-the-scenes_1_how_cpython_vm_works.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("【译】Python 幕后 #1: CPython 虚拟机如何工作"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://tech.blog.aknin.name/2010/04/02/pythons-innards-introduction/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python’s Innards: Introduction"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/79656976",target:"_blank",rel:"noopener noreferrer"}},[t._v("教你阅读 Cpython 的源码（一）"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/375323851",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python 源码学习：编译器和虚拟机"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://nanguage.gitbook.io/inside-python-vm-cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入理解python虚拟机"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://blog.runc.dev/2018/10/06/py-source/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cpython 源码概览"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=a.exports}}]);